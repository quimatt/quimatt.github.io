<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
    <link rel="stylesheet" type="text/css" href="home.css">
</head>
<body>
    <img src="images/Troll.png" width="100px" id="pic">
    <img src="cat.jpeg" width="25px" id="obs1">
    <img src="cat.jpeg" width="50px" id="obs2">
    <button onClick="level1()">Start</button>
    <script>
        var posx = 0;
        var posy = 200;
        var right;
        var left;
        var pic = document.getElementById("pic");
        var obstacle1 = document.getElementById("obs1");
        var obstacle2 = document.getElementById("obs2");
        var width = window.innerWidth;
        var level = 1;
        obstacle1.style.left = 500 + 'px';
        obstacle1.style.top = 225 + 'px';
        obstacle2.style.left = 600 + 'px';
        obstacle2.style.top = 200 + 'px';
        function level2(){
            obstacle1.style.left = 300 + 'px';
            obstacle1.style.top = 225 + 'px';
            obstacle2.style.left = 600 + 'px';
            obstacle2.style.top = 200 + 'px';
            document.onkeydown = checkKey;
            function aniright(){
                posx+=2;
                pic.style.left = posx + 'px';
                //checking if hitting obstacle
                //checking x axis
                if(posx > 250 && posx < 325){
                    //Checking Y axis
                    if(posy >= 175){
                        alert("game over");
                        posx=0;
                        pic.style.left = posx + 'px';
                    }
                }
                if(posx > 550 && posx < 650){
                    if(posy >= 150){
                        alert("game over");
                        posx=0;
                        pic.style.left = posx + 'px';

                    }
                }
                if(posx > width){
                    alert("level Complete");
                    posx = 0;
                    level2();
                }
            }
            function anileft(){
                posx-=2;
                pic.style.left = posx + 'px';
                //checking if hitting obstacle
                //checking x axis
                if(posx > 250 && posx < 325){
                    //Checking Y axis
                    if(posy >= 175){
                        alert("game over");
                        posx=0;
                        pic.style.left = posx + 'px';
                        window.location.reload();
                    }
                }
                if(posx > 550 && posx < 650){
                    if(posy >= 150){
                        alert("game over");
                        posx=0;
                        pic.style.left = posx + 'px';
                        window.location.reload();
                    }   
                }
            }
            function aniup(){
                posy-=2;
                pic.style.top = posy + 'px';
                if(posy < 100){
                    clearInterval(up);
                    down = setInterval(anidown,10);
                }
            }
            function anidown(){
                posy+=2;
                pic.style.top = posy + 'px';
                if(posy > 200){
                    clearInterval(down);
                    clearInterval(down);
                }
            }
            
        function checkKey(e) {

            e = e || window.event;

            if (e.keyCode == '38') {
                up = setInterval(aniup,10);
            }
            else if (e.keyCode == '37') {
                left = setInterval(anileft,10);
                clearInterval(right);
            }
            else if (e.keyCode == '39') {
                right = setInterval(aniright,10);
                clearInterval(left);
            }
        }
        };
        
        function level1(){
            if(level === 2){
                obstacle1.style.left = 500 + 'px';
                obstacle1.style.top = 225 + 'px';
                obstacle2.style.left = 600 + 'px';
                obstacle2.style.top = 200 + 'px';
                document.onkeydown = checkKey;
                function aniright1(){
                    posx+=2;
                    pic.style.left = posx + 'px';
                    //checking if hitting obstacle
                    //checking x axis
                    if(posx > 450 && posx < 525){
                        //Checking Y axis
                        if(posy >= 175){
                            alert("game over");
                            posx=0;
                            pic.style.left = posx + 'px';
                        }
                    }
                    if(posx > 550 && posx < 650){
                        if(posy >= 150){
                            alert("game over");
                            posx=0;
                            pic.style.left = posx + 'px';

                        }
                    }
                    if(posx > width){
                        alert("level Complete");
                        posx = 0;
                        level2(2);
                    }
                }
                function anileft1(){
                    posx-=2;
                    pic.style.left = posx + 'px';
                    //checking if hitting obstacle
                    //checking x axis
                    if(posx > 450 && posx < 525){
                        //Checking Y axis
                        if(posy >= 175){
                            alert("game over");
                            posx=0;
                            pic.style.left = posx + 'px';
                            window.location.reload();
                        }
                    }
                    if(posx > 550 && posx < 650){
                        if(posy >= 150){
                            alert("game over");
                            posx=0;
                            pic.style.left = posx + 'px';
                            window.location.reload();
                        }   
                    }
                }
                function aniup1(){
                    posy-=2;
                    pic.style.top = posy + 'px';
                    if(posy < 100){
                        clearInterval(up);
                        down = setInterval(anidown,10);
                    }
                }
                function anidown(){
                    posy+=2;
                    pic.style.top = posy + 'px';
                    if(posy > 200){
                        clearInterval(down);
                        clearInterval(down);
                    }
                }

            function checkKey(e) {

                e = e || window.event;

                if (e.keyCode == '38') {
                    up = setInterval(aniup1,10);
                }
                else if (e.keyCode == '37') {
                    if(level === 1){
                    left = setInterval(anileft1,10);
                    clearInterval(right);
                    }
                }
                else if (e.keyCode == '39') {
                    if(level === 1){
                    right = setInterval(aniright1,10);
                    clearInterval(left);
                    }
                }
            }
        }
        };
    </script>
</body>
</html>
